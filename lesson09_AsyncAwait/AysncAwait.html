<html>
    <head>
        <title>JavaScript Async/Await</title>
        
    </head>
    <body>
        <script>
            let result = function(score){
                return new Promise(function(resolve,reject){
                    console.log("Calculating result...");
                    if (score > 50){
                        resolve("You've passed");
                    }
                    else{
                        reject("You've failed");
                    }
                });
            }
            let grade = function(response){
                return new Promise(function(resolve,reject){
                    console.log("Calculating your grade...");
                    resolve("your grade is A." + response);
                });
            }

            // result(80).then(response => {
            //    console.log("Results received");
            //    return grade(response);
            // }).then(finalgrade =>{
            //    console.log(finalgrade);
            // }).catch(err =>{
            //     console.log(err);
            // })

            async function calcResults(){
                try{
                    const response = await result(80);
                    console.log("Results received");
                    const finalgrade = await grade(response);
                    console.log(finalgrade);
                }
                catch(err){
                    console.log(err);
                }
            }
            calcResults();
        </script>
    </body>
</html>